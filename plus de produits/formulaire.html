<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formulaire de Commande - PowerGym</title>
    <link rel="stylesheet" href="store.css" />
    <link rel="stylesheet" href="/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <style>
      .form-container {
        max-width: 800px;
        margin: 50px auto;
        padding: 30px;
        background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(255, 0, 0, 0.3);
      }

      .form-container h1 {
        color: #fff;
        text-align: center;
        margin-bottom: 10px;
        font-size: 2.5rem;
      }

      .form-container h1 span {
        color: red;
      }

      .cart-summary {
        background: rgba(255, 0, 0, 0.1);
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 30px;
        border: 2px solid red;
      }

      .cart-summary h2 {
        color: red;
        margin-bottom: 15px;
      }

      .cart-item {
        display: flex;
        justify-content: space-between;
        color: #fff;
        padding: 10px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .cart-total {
        display: flex;
        justify-content: space-between;
        color: #fff;
        font-size: 1.5rem;
        font-weight: bold;
        margin-top: 15px;
        padding-top: 15px;
        border-top: 2px solid red;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        color: #fff;
        margin-bottom: 8px;
        font-weight: 500;
      }

      .form-group input,
      .form-group textarea,
      .form-group select {
        width: 100%;
        padding: 12px;
        background: rgba(255, 255, 255, 0.1);
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: 8px;
        color: #fff;
        font-size: 1rem;
        transition: all 0.3s ease;
      }

      .form-group input:focus,
      .form-group textarea:focus,
      .form-group select:focus {
        outline: none;
        border-color: red;
        background: rgba(255, 255, 255, 0.15);
      }

      .form-group textarea {
        resize: vertical;
        min-height: 100px;
      }

      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
      }

      .submit-btn {
        width: 100%;
        padding: 15px;
        background: linear-gradient(135deg, red, darkred);
        color: #fff;
        border: none;
        border-radius: 10px;
        font-size: 1.2rem;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 20px;
      }

      .submit-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(255, 0, 0, 0.4);
      }

      .back-to-store {
        display: inline-block;
        margin: 20px 0;
        color: red;
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s ease;
      }

      .back-to-store:hover {
        color: #fff;
      }

      .back-to-store i {
        margin-right: 8px;
      }

      @media (max-width: 768px) {
        .form-row {
          grid-template-columns: 1fr;
        }

        .form-container {
          margin: 20px;
          padding: 20px;
        }
      }
    </style>
  </head>
  <body>
    <div class="form-container">
      <a href="store.html" class="back-to-store">
        <i class="fas fa-arrow-left"></i> Retour à la boutique
      </a>

      <h1><span>F</span>ormulaire de <span>C</span>ommande</h1>

      <div class="cart-summary">
        <h2><i class="fas fa-shopping-cart"></i> Votre Panier</h2>
        <div id="cartItems">
          <!-- Les articles seront affichés ici par JavaScript -->
        </div>
        <div class="cart-total">
          <span>Total:</span>
          <span id="totalPrice">0,00€</span>
        </div>
      </div>

      <form id="orderForm">
        <h2 style="color: red; margin-bottom: 20px">
          <i class="fas fa-user"></i> Informations Personnelles
        </h2>

        <div class="form-row">
          <div class="form-group">
            <label for="firstName"><i class="fas fa-user"></i> Prénom *</label>
            <input
              type="text"
              id="firstName"
              name="firstName"
              required
              placeholder="Votre prénom" />
          </div>

          <div class="form-group">
            <label for="lastName"><i class="fas fa-user"></i> Nom *</label>
            <input
              type="text"
              id="lastName"
              name="lastName"
              required
              placeholder="Votre nom" />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="email"><i class="fas fa-envelope"></i> Email *</label>
            <input
              type="email"
              id="email"
              name="email"
              required
              placeholder="votre.email@exemple.com" />
          </div>

          <div class="form-group">
            <label for="phone"><i class="fas fa-phone"></i> Téléphone *</label>
            <input
              type="tel"
              id="phone"
              name="phone"
              required
              placeholder="+33 6 12 34 56 78" />
          </div>
        </div>

        <h2 style="color: red; margin: 30px 0 20px">
          <i class="fas fa-map-marker-alt"></i> Adresse de Livraison
        </h2>

        <div class="form-group">
          <label for="address"
            ><i class="fas fa-home"></i> Adresse complète *</label
          >
          <input
            type="text"
            id="address"
            name="address"
            required
            placeholder="Numéro et nom de rue" />
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="city"><i class="fas fa-city"></i> Ville *</label>
            <input
              type="text"
              id="city"
              name="city"
              required
              placeholder="Votre ville" />
          </div>

          <div class="form-group">
            <label for="postalCode"
              ><i class="fas fa-mail-bulk"></i> Code Postal *</label
            >
            <input
              type="text"
              id="postalCode"
              name="postalCode"
              required
              placeholder="75001" />
          </div>
        </div>

        <div class="form-group">
          <label for="country"><i class="fas fa-flag"></i> Pays *</label>
          <select id="country" name="country" required>
            <option value="">Sélectionnez un pays</option>
            <option value="France" selected>France</option>
            <option value="Belgique">Belgique</option>
            <option value="Suisse">Suisse</option>
            <option value="Luxembourg">Luxembourg</option>
          </select>
        </div>

        <div class="form-group">
          <label for="notes"
            ><i class="fas fa-comment"></i> Notes (optionnel)</label
          >
          <textarea
            id="notes"
            name="notes"
            placeholder="Instructions de livraison, commentaires..."></textarea>
        </div>

        <button type="submit" class="submit-btn">
          <i class="fas fa-check-circle"></i> Confirmer la commande
        </button>
      </form>
    </div>

    <script>
      // Récupérer les informations depuis l'URL
      window.addEventListener("DOMContentLoaded", function () {
        const urlParams = new URLSearchParams(window.location.search);
        const productName = urlParams.get("product");
        const productPrice = urlParams.get("price");

        const cartItemsContainer = document.getElementById("cartItems");
        const totalPriceElement = document.getElementById("totalPrice");

        if (!productName || !productPrice) {
          cartItemsContainer.innerHTML =
            '<p style="color: #ccc; text-align: center;">Votre panier est vide</p>';
          totalPriceElement.textContent = "0,00€";
          return;
        }

        // Afficher le produit
        const itemDiv = document.createElement("div");
        itemDiv.className = "cart-item";
        itemDiv.innerHTML = `
          <span>${productName}</span>
          <span>${productPrice}</span>
        `;
        cartItemsContainer.appendChild(itemDiv);

        // Afficher le prix total
        totalPriceElement.textContent = productPrice;

        totalPriceElement.textContent =
          total.toFixed(2).replace(".", ",") + "€";
      });

      // Gérer la soumission du formulaire
      document
        .getElementById("orderForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          // Récupérer les infos du produit depuis l'URL
          const urlParams = new URLSearchParams(window.location.search);
          const productName = urlParams.get("product");
          const productPrice = urlParams.get("price");

          // Récupérer les données du formulaire
          const firstName = document.getElementById("firstName").value;
          const lastName = document.getElementById("lastName").value;
          const email = document.getElementById("email").value;
          const phone = document.getElementById("phone").value;
          const address = document.getElementById("address").value;
          const city = document.getElementById("city").value;
          const postalCode = document.getElementById("postalCode").value;
          const country = document.getElementById("country").value;
          const notes = document.getElementById("notes").value;

          // Ici vous pouvez envoyer les données à un serveur
          console.log("Commande confirmée:");
          console.log("Produit:", productName, "-", productPrice);
          console.log("Client:", firstName, lastName);
          console.log("Email:", email);

          // Afficher un message de confirmation
          alert(
            "✅ Commande confirmée avec succès!\n\n" +
              "Merci " +
              firstName +
              " pour votre commande.\n" +
              "Produit: " +
              productName +
              "\n" +
              "Vous recevrez un email de confirmation à " +
              email
          );

          // Rediriger vers la boutique
          window.location.href = "store.html";
        });
    </script>
  </body>
</html>
